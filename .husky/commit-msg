commit_message=$(cat "$1")

if echo "$commit_message" | grep -qP "^\s*(✨|🐛|📚|🎨|♻️|⚡️|✅|🔧|🤖|🎉|🚀|🔒|📦|🗑️|🚨|🔍|🌍|🎁|📝|📈|💄|🚧|🛠️|🌟|🎯|📌|💡|🎥|🔀|🧪|🏗️|🎼|🔖|📜|💬|🌐|⚙️|📊|🛡️|📤|🪄|🐳|🍎|📥|⏪|🔄|🧹|📱|🏷️|🗃️|📂|🧑‍💻|🌈|🎮|🍃|🥂|🎩|🚦|🌋|🎭|🧑‍🏫|🏅|🪟|🧩)"; then
  echo "$commit_message" > "$1"
else
  if echo "$commit_message" | grep -qE "^feat(!)?"; then
    echo "✨ $commit_message" > "$1"
  elif echo "$commit_message" | grep -qE "^fix(!)?"; then
    echo "🐛 $commit_message" > "$1"
  elif echo "$commit_message" | grep -qE "^docs(!)?"; then
    echo "📚 $commit_message" > "$1"
  elif echo "$commit_message" | grep -qE "^style(!)?"; then
    echo "🎨 $commit_message" > "$1"
  elif echo "$commit_message" | grep -qE "^refactor(!)?"; then
    echo "♻️ $commit_message" > "$1"
  elif echo "$commit_message" | grep -qE "^perf(!)?"; then
    echo "⚡️ $commit_message" > "$1"
  elif echo "$commit_message" | grep -qE "^test(!)?"; then
    echo "✅ $commit_message" > "$1"
  elif echo "$commit_message" | grep -qE "^chore(!)?"; then
    echo "🔧 $commit_message" > "$1"
  elif echo "$commit_message" | grep -qE "^ci(!)?"; then
    echo "🤖 $commit_message" > "$1"
  elif echo "$commit_message" | grep -qE "^build(!)?"; then
    echo "📦 $commit_message" > "$1"
  elif echo "$commit_message" | grep -qE "^deploy(!)?"; then
    echo "🚀 $commit_message" > "$1"
  elif echo "$commit_message" | grep -qE "^security(!)?"; then
    echo "🔒 $commit_message" > "$1"
  elif echo "$commit_message" | grep -qE "^cleanup(!)?"; then
    echo "🧹 $commit_message" > "$1"
  elif echo "$commit_message" | grep -qE "^lint(!)?"; then
    echo "🚨 $commit_message" > "$1"
  elif echo "$commit_message" | grep -qE "^seo(!)?"; then
    echo "🔍 $commit_message" > "$1"
  elif echo "$commit_message" | grep -qE "^i18n(!)?"; then
    echo "🌍 $commit_message" > "$1"
  elif echo "$commit_message" | grep -qE "^gift(!)?"; then
    echo "🎁 $commit_message" > "$1"
  elif echo "$commit_message" | grep -qE "^note(!)?"; then
    echo "📝 $commit_message" > "$1"
  elif echo "$commit_message" | grep -qE "^analytics(!)?"; then
    echo "📊 $commit_message" > "$1"
  elif echo "$commit_message" | grep -qE "^ui(!)?"; then
    echo "💄 $commit_message" > "$1"
  elif echo "$commit_message" | grep -qE "^wip(!)?"; then
    echo "🚧 $commit_message" > "$1"
  elif echo "$commit_message" | grep -qE "^tooling(!)?"; then
    echo "🛠️ $commit_message" > "$1"
  elif echo "$commit_message" | grep -qE "^feature(!)?"; then
    echo "🌟 $commit_message" > "$1"
  elif echo "$commit_message" | grep -qE "^goal(!)?"; then
    echo "🎯 $commit_message" > "$1"
  elif echo "$commit_message" | grep -qE "^pin(!)?"; then
    echo "📌 $commit_message" > "$1"
  elif echo "$commit_message" | grep -qE "^idea(!)?"; then
    echo "💡 $commit_message" > "$1"
  elif echo "$commit_message" | grep -qE "^media(!)?"; then
    echo "🎥 $commit_message" > "$1"
  elif echo "$commit_message" | grep -qE "^merge(!)?"; then
    echo "🔀 $commit_message" > "$1"
  elif echo "$commit_message" | grep -qE "^experiment(!)?"; then
    echo "🧪 $commit_message" > "$1"
  elif echo "$commit_message" | grep -qE "^infra(!)?"; then
    echo "🏗️ $commit_message" > "$1"
  elif echo "$commit_message" | grep -qE "^music(!)?"; then
    echo "🎼 $commit_message" > "$1"
  elif echo "$commit_message" | grep -qE "^tag(!)?"; then
    echo "🔖 $commit_message" > "$1"
  elif echo "$commit_message" | grep -qE "^design(!)?"; then
    echo "🎨 $commit_message" > "$1"
  elif echo "$commit_message" | grep -qE "^config(!)?"; then
    echo "⚙️ $commit_message" > "$1"
  elif echo "$commit_message" | grep -qE "^docker(!)?"; then
    echo "🐳 $commit_message" > "$1"
  elif echo "$commit_message" | grep -qE "^apple(!)?"; then
    echo "🍎 $commit_message" > "$1"
  elif echo "$commit_message" | grep -qE "^android(!)?"; then
    echo "📱 $commit_message" > "$1"
  elif echo "$commit_message" | grep -qE "^rollback(!)?"; then
    echo "⏪ $commit_message" > "$1"
  elif echo "$commit_message" | grep -qE "^sync(!)?"; then
    echo "🔄 $commit_message" > "$1"
  elif echo "$commit_message" | grep -qE "^optimization(!)?"; then
    echo "📈 $commit_message" > "$1"
  elif echo "$commit_message" | grep -qE "^ref(!)?"; then
    echo "📂 $commit_message" > "$1"
  elif echo "$commit_message" | grep -qE "^team(!)?"; then
    echo "🧑‍💻 $commit_message" > "$1"
  else
    echo "🎉 $commit_message" > "$1"
  fi
fi
